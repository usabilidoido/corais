<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Example: Fish Sort - Multi Outer Join</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Maven+Pro:400,700">
    <link rel="stylesheet" href="../../build/cssgrids/grids-min.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <script src="../../build/yui/yui-min.js"></script>
</head>
<body>

<div id="doc">
    <h1>Example: Fish Sort - Multi Outer Join</h1>

    
        <a href="#toc" class="jump">Jump to Table of Contents</a>
    

    <div class="yui3-g">
        <div class="yui3-u-3-4">
            <div id="main">
                <div class="content"><div class="intro">
<p>This example has 2 sortable lists, each with floated nodes. 
The lists are outer joined together. 
The small fish on the left
can move into the groups on the right, and become sortable (and larger). 
However, the items in the groups on the right 
<strong>cannot</strong> move back into the list of small fish.</p>
</div>

<div class="example">
    <style>
    .example {
    background-color: #DCCFBB;
    font-family: georgia;
    /* a repeating grid image in the background */
    background-image: url(../assets/sortable/images/grid.png);
}
#demo {
    float: none;
    border: solid 1px #C8B9A4;
    width: 655px;
    margin: auto;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    border-radius: 3px;
}
#demo #col-left{ 
    width: 231px;
}    
#demo #col-right {
    width: 417px;
    padding-bottom: 2em; /* needs bottom padding so objects can drag below last .group-hd */    
    border-left: solid 1px #C8B9A4;
}
#demo ul{
    margin: 0;
    padding: 0;
    list-style-type: none;
}
#demo #list1 li,
#demo #list2 li{ 
    float: left; /* the li objects are floated */
    margin: 3px;
    background-color: #E9CE98; 
}
#demo #list1 li{
    height: 56px;
    width: 68px;
    overflow: hidden; /* this hides the catalog number on the small fish */
}
/* the width and height of the .fish items are larger in #list2 */
#demo #list2 .fish{ 
    width: 130px;
    height: 115px; /* The .fish items are taller when on the right to show the catalog number */ 
    text-align: center;
}
/* catalog number style */
#demo #list2 .cat-num{
    font-size: 80%;
    margin: -0.2em 0.5em;
    font-style: italic;
    color: #9F8A6C;
    height: 1.3em;
    line-height: 0.9em;
}
/* group heads are sortable like other objects but have different style */
#demo #list2 .group-hd{
    background-color: #6F6452; 
    border-color: #EBD6B3 #63532E #63532E #EBD6B3;
    width: 406px;
    height: 20px;
    text-indent: 0.5em;
    font-weight: bold;
    color: #B0986A;
    line-height: 20px;
}
#demo li img{
    width: 100%; /* image scales with size of it's li container */
}
#demo li {
    border: solid 1px;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    border-color: #FFEFC2 #9D8F70 #9D8F70 #FFEFC2;
    -moz-box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
}

    </style>
    
    <div id="demo" class="yui-g">
    <div id="col-left" class="yui3-u">
        <ul id="list1">
            <li class="fish"><img src="../assets/sortable/images/efish_03.png" alt="Fish:Round, 2 stripes"/><div class="cat-num">Cat. #34620</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_09.png" alt="Fish:Spiked dorsal, dark"/><div class="cat-num">Cat. #31899</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_12.png" alt="Fish:Long comb dorsal"/><div class="cat-num">Cat. #32230</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_05.png" alt="Fish:Sole, medium"/><div class="cat-num">Cat. #32003</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_04.png" alt="Fish:Round, 3 stripes"/><div class="cat-num">Cat. #34551</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_06.png" alt="Fish:Sole, light"/><div class="cat-num">Cat. #32398</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_08.png" alt="Fish:Lots of spiked fins"/><div class="cat-num">Cat. #36667</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_02.png" alt="Fish:Round, 4 stripes"/><div class="cat-num">Cat. #34821</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_10.png" alt="Fish:Big Spiked dorsal, light"/><div class="cat-num">Cat. #38144</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_13.png" alt="Fish:Long comb dorsal"/><div class="cat-num">Cat. #32445</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_07.png" alt="Fish:Sole, dark"/><div class="cat-num">Cat. #32201</div></li>
            <li class="fish"><img src="../assets/sortable/images/efish_11.png" alt="Fish:Long comb dorsal, pointy"/><div class="cat-num">Cat. #32011</div></li>
        </ul>
    </div>
    <div id="col-right" class="yui3-u">
        <ul id="list2">
            <li class="group-hd">Group A</li>
            <!-- This fish has already been pre-placed in a group -->
            <li class="fish"><img src="../assets/sortable/images/efish_01.png" alt="Fish:Round, 5 stripes"/><div class="cat-num">Cat. #34114</div></li>
            <li class="group-hd">Group B</li>
            <li class="group-hd">Group C</li>
            <li class="group-hd">Group D</li>
        </ul>
    </div>
</div>

    
    <script>
    YUI().use('dd-constrain', 'sortable', function(Y) {
    var list1 = new Y.Sortable({
        container: '#list1',
        nodes: 'li',
        opacity: '.1'
    });

    var list2 = new Y.Sortable({
        container: '#list2',
        nodes: 'li',
        opacity: '.1'
    });

    list1.join(list2, 'outer');
});


    </script>
</div>

<p>Images of fish etchings are from Jacob Theodor Klein, mid 1700s. 
Source: http://www.flickr.com/photos/biodivlibrary/sets/72157627937663760/.         
Contributed by: MBLWHOI Library, Woods Hole.</p> 
<p><strong>Note: When using an outer or inner joined list, you must pick a moveType of 'move' or 'copy', the default 'swap' won't give you the results you expect.</strong></p>
<p>This example assumes that you have seen the Multiple Sortable Lists - Full Join example and continues from there.</p>

<h3 id="setting-up-the-list">Setting Up the List</h3>
<p>First we need to create the HTML structure for the lists. Since <code>Sortable</code> uses <code>Y.DD.Delegate</code>, we need to set up the delegation containers (<code>#list1, #lists2</code>) and the list items (<code>li</code>).</p>

<pre class="code prettyprint">&lt;div id=&quot;demo&quot; class=&quot;yui-g&quot;&gt;
    &lt;div id=&quot;col-left&quot; class=&quot;yui3-u&quot;&gt;
        &lt;ul id=&quot;list1&quot;&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_03.png&quot; alt=&quot;Fish:Round, 2 stripes&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #34620&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_09.png&quot; alt=&quot;Fish:Spiked dorsal, dark&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #31899&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_12.png&quot; alt=&quot;Fish:Long comb dorsal&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32230&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_05.png&quot; alt=&quot;Fish:Sole, medium&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32003&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_04.png&quot; alt=&quot;Fish:Round, 3 stripes&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #34551&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_06.png&quot; alt=&quot;Fish:Sole, light&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32398&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_08.png&quot; alt=&quot;Fish:Lots of spiked fins&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #36667&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_02.png&quot; alt=&quot;Fish:Round, 4 stripes&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #34821&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_10.png&quot; alt=&quot;Fish:Big Spiked dorsal, light&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #38144&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_13.png&quot; alt=&quot;Fish:Long comb dorsal&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32445&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_07.png&quot; alt=&quot;Fish:Sole, dark&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32201&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_11.png&quot; alt=&quot;Fish:Long comb dorsal, pointy&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #32011&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
        &lt;&#x2F;ul&gt;
    &lt;&#x2F;div&gt;
    &lt;div id=&quot;col-right&quot; class=&quot;yui3-u&quot;&gt;
        &lt;ul id=&quot;list2&quot;&gt;
            &lt;li class=&quot;group-hd&quot;&gt;Group A&lt;&#x2F;li&gt;
            &lt;!-- This fish has already been pre-placed in a group --&gt;
            &lt;li class=&quot;fish&quot;&gt;&lt;img src=&quot;..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;efish_01.png&quot; alt=&quot;Fish:Round, 5 stripes&quot;&#x2F;&gt;&lt;div class=&quot;cat-num&quot;&gt;Cat. #34114&lt;&#x2F;div&gt;&lt;&#x2F;li&gt;
            &lt;li class=&quot;group-hd&quot;&gt;Group B&lt;&#x2F;li&gt;
            &lt;li class=&quot;group-hd&quot;&gt;Group C&lt;&#x2F;li&gt;
            &lt;li class=&quot;group-hd&quot;&gt;Group D&lt;&#x2F;li&gt;
        &lt;&#x2F;ul&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;</pre>


<p>Now we give the lists some CSS to make them visible.</p>

<pre class="code prettyprint">.example {
    background-color: #DCCFBB;
    font-family: georgia;
    &#x2F;* a repeating grid image in the background *&#x2F;
    background-image: url(..&#x2F;assets&#x2F;sortable&#x2F;images&#x2F;grid.png);
}
#demo {
    float: none;
    border: solid 1px #C8B9A4;
    width: 655px;
    margin: auto;
    -moz-border-radius: 3px;
    -webkit-border-radius: 3px;
    border-radius: 3px;
}
#demo #col-left{ 
    width: 231px;
}    
#demo #col-right {
    width: 417px;
    padding-bottom: 2em; &#x2F;* needs bottom padding so objects can drag below last .group-hd *&#x2F;    
    border-left: solid 1px #C8B9A4;
}
#demo ul{
    margin: 0;
    padding: 0;
    list-style-type: none;
}
#demo #list1 li,
#demo #list2 li{ 
    float: left; &#x2F;* the li objects are floated *&#x2F;
    margin: 3px;
    background-color: #E9CE98; 
}
#demo #list1 li{
    height: 56px;
    width: 68px;
    overflow: hidden; &#x2F;* this hides the catalog number on the small fish *&#x2F;
}
&#x2F;* the width and height of the .fish items are larger in #list2 *&#x2F;
#demo #list2 .fish{ 
    width: 130px;
    height: 115px; &#x2F;* The .fish items are taller when on the right to show the catalog number *&#x2F; 
    text-align: center;
}
&#x2F;* catalog number style *&#x2F;
#demo #list2 .cat-num{
    font-size: 80%;
    margin: -0.2em 0.5em;
    font-style: italic;
    color: #9F8A6C;
    height: 1.3em;
    line-height: 0.9em;
}
&#x2F;* group heads are sortable like other objects but have different style *&#x2F;
#demo #list2 .group-hd{
    background-color: #6F6452; 
    border-color: #EBD6B3 #63532E #63532E #EBD6B3;
    width: 406px;
    height: 20px;
    text-indent: 0.5em;
    font-weight: bold;
    color: #B0986A;
    line-height: 20px;
}
#demo li img{
    width: 100%; &#x2F;* image scales with size of it&#x27;s li container *&#x2F;
}
#demo li {
    border: solid 1px;
    -moz-border-radius: 4px;
    -webkit-border-radius: 4px;
    border-radius: 4px;
    border-color: #FFEFC2 #9D8F70 #9D8F70 #FFEFC2;
    -moz-box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
    -webkit-box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.25);
}</pre>


<h3 id="setting-up-the-yui-instance">Setting Up the YUI Instance</h3>
<p>Now we need to create our YUI instance and tell it to load the <code>sortable</code> module.</p>
<p>In this example we are also going to attach a <code>DD</code> plugin to the <code>Sortable</code> instances.</p>

<pre class="code prettyprint">YUI().use(&#x27;dd-constrain&#x27;, &#x27;sortable&#x27;</pre>


<h3 id="making-the-lists-draggable">Making the Lists Draggable</h3>
<p>Now that we have a YUI instance with the <code>sortable</code> module, we need to instantiate a <code>Sortable</code> instance on each of the lists.</p>

<pre class="code prettyprint">YUI().use(&#x27;dd-constrain&#x27;, &#x27;sortable&#x27;, function(Y) {
    var list1 = new Y.Sortable({
        container: &#x27;#list1&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

    var list2 = new Y.Sortable({
        container: &#x27;#list2&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

});</pre>


<h3 id="applying-a-dd-plugin">Applying a DD Plugin</h3>
<p>Since <code>Sortable</code> uses <code>DD.Delegate</code>, there is a dd instance available after instantiation.</p>
<p>The <code>DD.Delegate</code> reference is found on the <code>.delegate</code> property of the <code>Sortable</code>.
This <code>DD.Delegate</code> instance has a <code>DD.Drag</code> instance bound to the <code>dd</code> property on the <code>DD.Delegate</code>
</p>

<pre class="code prettyprint">list1.delegate.dd.plug(Y.Plugin.DDConstrained, {
    constrain2node: &#x27;#demo&#x27;
});
list2.delegate.dd.plug(Y.Plugin.DDConstrained, {
    constrain2node: &#x27;#demo&#x27;
});</pre>

<p>Applying the <code>Plugin.DDConstrained</code> to the <code>Sortable</code> instance.</p>

<pre class="code prettyprint">YUI().use(&#x27;dd-constrain&#x27;, &#x27;sortable&#x27;, function(Y) {
    var list1 = new Y.Sortable({
        container: &#x27;#list1&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

    var list2 = new Y.Sortable({
        container: &#x27;#list2&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

    list1.delegate.dd.plug(Y.Plugin.DDConstrained, {
        constrain2node: &#x27;#demo&#x27;
    });
    list2.delegate.dd.plug(Y.Plugin.DDConstrained, {
        constrain2node: &#x27;#demo&#x27;
    });

});</pre>



<h3 id="joining-the-lists">Joining the Lists</h3>
<p>Joining the lists is as simple as calling the <code>join</code> method on one list passing in another list. By default, we use a full join which joins both lists both ways.</p>
<p>You can optionally specify the join type: <code>inner</code> or <code>outer</code>. The <code>moveType</code> can also be specified on the list: <code>swap</code>, <code>move</code> or <code>copy</code>. <code>swap</code> is the default, as seen in this example.</p>

<pre class="code prettyprint">list1.join(list2);              &#x2F;&#x2F;Full join &lt;-- both ways --&gt;
list1.join(list2, &#x27;outer&#x27;);     &#x2F;&#x2F;Outer join --&gt; one way --&gt;
list1.join(list2, &#x27;inner&#x27;);     &#x2F;&#x2F;Inner join &lt;-- one way &lt;--</pre>



<h3 id="putting-it-together">Putting it together</h3>

<pre class="code prettyprint">YUI().use(&#x27;dd-constrain&#x27;, &#x27;sortable&#x27;, function(Y) {
    var list1 = new Y.Sortable({
        container: &#x27;#list1&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

    var list2 = new Y.Sortable({
        container: &#x27;#list2&#x27;,
        nodes: &#x27;li&#x27;,
        opacity: &#x27;.1&#x27;
    });

    list1.join(list2, &#x27;outer&#x27;);
});</pre>

</div>
            </div>
        </div>

        <div class="yui3-u-1-4">
            <div class="sidebar">
                
                    <div id="toc" class="sidebox">
                        <div class="hd">
                            <h2 class="no-toc">Table of Contents</h2>
                        </div>

                        <div class="bd">
                            <ul class="toc">
<li>
<a href="#setting-up-the-list">Setting Up the List</a>
</li>
<li>
<a href="#setting-up-the-yui-instance">Setting Up the YUI Instance</a>
</li>
<li>
<a href="#making-the-lists-draggable">Making the Lists Draggable</a>
</li>
<li>
<a href="#applying-a-dd-plugin">Applying a DD Plugin</a>
</li>
<li>
<a href="#joining-the-lists">Joining the Lists</a>
</li>
<li>
<a href="#putting-it-together">Putting it together</a>
</li>
</ul>
                        </div>
                    </div>
                

                
                    <div class="sidebox">
                        <div class="hd">
                            <h2 class="no-toc">Examples</h2>
                        </div>

                        <div class="bd">
                            <ul class="examples">
                                
                                    
                                        <li data-description="Create a simple sortable list.">
                                            <a href="simple-sortable.html">Simple Sortable List</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="Sortable list example with floated nodes.">
                                            <a href="sortable-float.html">Floated List</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="Multiple Sortable Lists that are separate from one another.">
                                            <a href="sortable-multi.html">Multiple Lists</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="Multiple Sortable Lists that are fully joined together.">
                                            <a href="sortable-multi-full.html">Multiple Lists - Full Join</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="Multiple Sortable Lists that are outer joined together.">
                                            <a href="sortable-multi-out.html">Multiple Lists - Outer Join</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="Multiple Sortable Lists that are inner joined together.">
                                            <a href="sortable-multi-in.html">Multiple Lists - Inner Join</a>
                                        </li>
                                    
                                
                                    
                                        <li data-description="A fish sorting example. Multiple sortable lists with floated nodes that are outer joined together.">
                                            <a href="sortable-fish.html">Fish Sort - Multi Outer Join</a>
                                        </li>
                                    
                                
                            </ul>
                        </div>
                    </div>
                

                
            </div>
        </div>
    </div>
</div>

<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>

</body>
</html>
